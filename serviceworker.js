const CACHE_NAME="ntc-zoo-cache-v1",FILES_TO_CACHE=["/","/index.html","/styles.css","/zoo.js","/AnimalAPI.js","/AnimalData.js","/AdminDashboard.js","/UiFeedback.js","/Security.js","/zooLocations.js","/ZooOperations.js","/Components/zoo-animal-card.js","/Components/z-hover-highlight.js","/Components/zoo-photo-booth.js","/manifest.json","/icon-192.png","/icon-512.png"];self.addEventListener("install",t=>{t.waitUntil(caches.open(CACHE_NAME).then(t=>t.addAll(FILES_TO_CACHE)))}),self.addEventListener("fetch",t=>{const e=t.request;if("GET"!==e.method)return;const n=new URL(e.url);n.origin===self.location.origin&&(n.pathname.startsWith("/api/")||"/ping"===n.pathname||("navigate"!==t.request.mode?t.respondWith((async()=>{const t=await caches.match(e);if(t)return t;try{const t=await fetch(e),n=e.headers.has("range");if(200===t.status&&"basic"===t.type&&!n){const n=t.clone(),s=await caches.open(CACHE_NAME);await s.put(e,n)}return t}catch{return new Response("Offline",{status:503})}})()):t.respondWith((async()=>{try{return await fetch(e)}catch{return await caches.match("/index.html")||Response.error()}})())))});